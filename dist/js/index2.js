function animation(n){n.find(".animation").each(function(n,e){$(e).css({"animation-delay":.5*n+"s","-webkit-animation-delay":.5*n+"s"})}),n.find(".J_fadeInLeft").each(function(n,e){$(e).addClass("animated fadeInLeft").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated fadeInLeft")})}),n.find(".J_fadeInRight").each(function(n,e){$(e).addClass("animated fadeInRight").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated fadeInRight")})}),n.find(".J_bounceIn").each(function(n,e){$(e).addClass("animated bounceIn").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated bounceIn")})})}function moveTo(n,e){if(!(n>=maxLength||0>n)){e?$wpInner.addClass("anim"):$wpInner.removeClass("anim");var a=-$wp.height()*n;$wpInner.css("transform","translateY("+a+"px)"),index!==n&&(index=n)}}var index=0,$wp=$("#wp"),$wpInner=$("#wp-inner"),$pages=$(".page"),$curPage=$(".page.cur"),maxLength=$pages.size(),initY,finalY;$wp.on("touchstart",function(n){n.preventDefault()}).on("touchmove",function(n){n.preventDefault()}),$pages.each(function(n,e){$(e).height($wp.height())}),$wpInner.on("touchstart",function(n){n.preventDefault();var e=n.originalEvent;e.targetTouches.length>1||(initY=e.targetTouches[0].pageY)}),$wpInner.on("touchmove",function(n){n.preventDefault();var e=n.originalEvent;if(e.targetTouches.length>1)moveTo(index+temp,!0);else{$wpInner.removeClass("anim");var a=e.changedTouches[0].pageY,i=a-initY,t=-$wp.height()*index+i;$wpInner.css("transform","translateY("+t+"px)")}}),$wpInner.on("touchend",function(n){n.preventDefault();var e=n.originalEvent;if(!(e.targetTouches.length>1)){finalY=e.changedTouches[0].pageY;var a=finalY-initY,i=0;Math.abs(a)>30&&(a>0?0!==index&&(i=-1):index!==maxLength-1&&(i=1),moveTo(index+i,!0))}});var cssTemp={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};animation($curPage);for(var i in cssTemp)i in document.body.style&&$wpInner.on(cssTemp[i],function(n){$pages.removeClass("cur").eq(index).addClass("cur"),animation($pages.eq(index))});